<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
</head>

<body>
	<script>
		const createMenu = (array, newArray = []) => {
			for (let i = 0; i < array.length; i++) {
				const item = array[i]


				if (item.children) {
					newArray.push({
						key: item.name,
						children: createMenu(item.children)
					})
				} else {
					newArray.push({
						key: item.name,
					})
				}
			}
			return newArray
		}

		const root = {
			children: [
				{
					name: "1_a",
					kind: "file"
				}, {
					name: "2_a",
					kind: "file",
					children: [
						{
							name: "2_b",
							kind: "file",
							children: [{
								name: "2_c",
								kind: "file",
							}]
						}
					]
				}, {
					name: "3_a",
					kind: "file"
				}
			]
		}

		const ss = createMenu(root.children)

		console.log(ss);
	</script>
</body>

</html>